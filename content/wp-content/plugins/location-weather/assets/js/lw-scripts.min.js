!function($){$((function(){function initPreloader($wrapper){const $preloaderWrapper=$wrapper.find(".splw-lite-wrapper.lw-preloader-wrapper"),$preloader=$wrapper.find(".lw-preloader");$preloaderWrapper.length&&$preloader.length&&$preloader.animate({opacity:0},600,(function(){$(this).remove()}))}function initAjaxReload($wrapper,shortcodeId){if(!$wrapper.hasClass("splw-ajax-loaded")&&"undefined"!=typeof splw_ajax_object&&"1"===splw_ajax_object.splw_skip_cache&&shortcodeId){const data={splw_nonce:splw_ajax_object.splw_nonce,action:"splw_ajax_location_weather",id:shortcodeId};$.post(splw_ajax_object.ajax_url,data,(function(response){if(response){$wrapper.replaceWith(response);const $newWrapper=$("#"+$wrapper.attr("id"));initForecastSelect($newWrapper),initForecastTabs($newWrapper),$newWrapper.addClass("splw-ajax-loaded")}}))}}function initForecastSelect($wrapper){const $select=$wrapper.find("#forecast-select");if(!$select.length)return;const map={temp:".temp-min-mex",wind:".temp-wind",humidity:".temp-humidity",pressure:".temp-pressure",precipitation:".temp-precipitation",rainchance:".temp-rainchance",snow:".temp-snow"},$forecast=$wrapper.find(".splw-adv-forecast-days .splw-forecast");$select.on("change",(function(){const value=$(this).val();map[value]&&$forecast.find(map[value]).addClass("active").siblings().removeClass("active")}))}function initForecastTabs($wrapper){$wrapper.find(".splw-adv-forecast-days").each((function(){const $container=$(this),$tabs=$container.find("[data-tab-target]"),$tabContents=$container.find("[data-tab-content]");$tabs.off("click").on("click",(function(){const $tab=$(this),targetSelector=$tab.data("tabTarget");targetSelector&&($tab.addClass("active").siblings().removeClass("active"),$tabContents.removeClass("active"),$tabContents.filter(targetSelector).addClass("active"))}))}))}$(".splw-main-wrapper").each((function(){const $mainWrapper=$(this),wrapperId=$mainWrapper.attr("id"),shortcodeId=$mainWrapper.data("shortcode-id");initPreloader($mainWrapper),initAjaxReload($mainWrapper,shortcodeId),initForecastSelect($mainWrapper),initForecastTabs($mainWrapper)}))}))}(jQuery);